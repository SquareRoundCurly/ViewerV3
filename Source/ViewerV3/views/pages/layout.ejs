<%- include('../template/head')-%>

    <body class="text-center">
        <%- include('../template/nav')-%>

        <div class="d-flex" id="wrapper">

            <!-- Sidebar -->
            <div class="bg-light border-right" id="sidebar-wrapper">
                <div class="form-group">
                    <label for="year">Year:</label>
                    <input type="number" class="form-control" id="year" value="2019">
                    <label for="project">Project:</label>
                    <input type="number" class="form-control" id="project">
                    <button type="submit" class="btn btn-primary mb-2" id="ProjectSearchBtn">Search</button>
                    <input type="text" class="form-control" id="projectName" disabled>
                </div>
                
                <div id="measurementTypeRadioBtns" align="left">
                </div>

                <div class="list-group list-group-flush">
                    <a href="#" class="list-group-item list-group-item-action bg-light" id="C413">C413</a>
                    <a href="#" class="list-group-item list-group-item-action bg-light" id="L602">L602</a>
                    <a href="#" class="list-group-item list-group-item-action bg-light" id="Q662">Q662</a>
                    <a href="#" class="list-group-item list-group-item-action bg-light" id="RV520">RV520</a>
                    <a href="#" class="list-group-item list-group-item-action bg-light" id="U100">U100</a>
                    <a href="#" class="list-group-item list-group-item-action bg-light" id="U300">U300</a>
                </div>
            </div>
            <!-- /#sidebar-wrapper -->

            <!-- Page Content -->
            <div id="page-content-wrapper">

              <div class="container-fluid">
                <div class="grid" id="grid">
                    <div class="grid-item grid-item--width2"><img src="Images/S115_C413_01.jpg" /></div>
                    <div class="grid-item grid-item--height2"><img src="Images/S115_C413_02.jpg" /></div>
                    <div class="grid-item"><img src="Images/S115_C413_03.jpg" /></div>
                    <div class="grid-item"><img src="Images/S115_C413_04.jpg" /></div>
                    <div class="grid-item grid-item--width2 grid-item--height2"><img src="Images/S115_C413_05.jpg" /></div>
                    <div class="grid-item grid-item--width2"><img src="Images/S115_C413_06.jpg" /></div>
                    <div class="grid-item grid-item--width2"><img src="Images/S115_C413_07.jpg" /></div>
                    <div class="grid-item grid-item--height2"><img src="Images/S115_C413_08.jpg" /></div>
                    <div class="grid-item"><img src="Images/S115_C413_08m.jpg" /></div>
                    <div class="grid-item grid-item--width2"><img src="Images/S115_C413_09.jpg" /></div>
                    <div class="grid-item grid-item--height2"><img src="Images/S115_C413_10.jpg" /></div>
                    <div class="grid-item"><img src="Images/S115_C413_11.jpg" /></div>
                    <div class="grid-item"><img src="Images/S115_C413_12.jpg" /></div>
                    <div class="grid-item grid-item--width2 grid-item--height2"><img src="Images/S115_C413_13.jpg" /></div>
                    <div class="grid-item"><img src="Images/S115_C413_14.jpg" /></div>
                    <div class="grid-item grid-item--width2"><img src="Images/S115_C413_15.jpg" /></div>
                    <div class="grid-item grid-item--height2"><img src="Images/S115_C413_16.jpg" /></div>
                    <div class="grid-item"><img src="Images/S115_C413_01.jpg" /></div>
                </div>
              </div>
            </div>
            <!-- /#page-content-wrapper -->

      </div>
      <!-- /#wrapper -->

        <script src="layout.js"></script>

        <script>
            $(document).on("click", "#ProjectSearchBtn", function (event) {
                var socket = io();

                socket.emit("ProjectSearchBtn", { year: document.getElementById("year").value, project: document.getElementById("project").value });
            });
        </script>

        <script>
            $(document).ready(function () {
                var socket = io();

                socket.on("projectSearchResult", (msg) => {
                    console.log(msg);

                    // Set project name
                    document.getElementById('projectName').value = msg.name;

                    // Clear any previous radio buttons
                    document.getElementById('measurementTypeRadioBtns').innerHTML = '';

                    // Generate radio buttons for measurement types
                    var mTypes = msg.measurementTypes.split(' ');
                    mTypes.forEach(mTypeElement => {
                        console.log(mTypeElement);

                        // Create label and radioBtn
                        var mTypeLabel = document.createElement('label');
                        var mTypeRadioBtn = document.createElement('input');
                            
                        // Set radio button attributes
                        mTypeRadioBtn.setAttribute('type', 'radio');
                        mTypeRadioBtn.setAttribute('name', 'measurementType');
                        mTypeRadioBtn.setAttribute('id', mTypeElement);

                        // Set label attributes
                        mTypeLabel.innerHTML= mTypeElement;
                        mTypeLabel.setAttribute('for', mTypeElement);

                        document.getElementById('measurementTypeRadioBtns').appendChild(mTypeRadioBtn);
                        document.getElementById('measurementTypeRadioBtns').appendChild(mTypeLabel);
                    });
                });
            });
        </script>
        
        <script>
            window.onload = function() {
                document.getElementById('C413').onclick = function()
                {
                    console.log('C413');

                    //document.getElementById('grid').innerHTML += '<div class="grid-item grid-item--width2"><img src="Images/S115_C413_01.jpg" /></div>';
                };
            };
        </script>

        <%- include('../template/footer')-%>
    </body>
</html>
